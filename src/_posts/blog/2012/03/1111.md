title: DoYouHaoBaby框架决定正式去掉模板替换
date: 2012-03-31 11:53:08
---

模板替换的好处当然不用说了，在模板中很简洁，代码如下：<br/><br/>protected function templateContentReplace($sContent){<br/>		$arrReplace= array(// 系统默认的特殊变量替换<br/>			'__ENTER_*_'=>__ENTER_*_,// 项目入口文件<br/>			'__LIBCOM_*_'=>__LIBCOM_*_,//框架内部资源目录<br/>			'__APPPUB_*_'=>__APPPUB_*_,//项目入口公用目录<br/>			'__TMPLPUB_*_'=>__TMPLPUB_*_,//项目模板公用目录<br/>			'../PUBLIC_*_'=>__TMPLPUB_*_,// 项目公共目录<br/>			'__PUBLIC_*_'=>__PUBLIC_*_,// 站点公共目录<br/>			'__TMPL_*_'=>__TMPL_*_,// 项目模板目录<br/>			'__ROOT_*_'=>__ROOT_*_,// 当前网站地址<br/>			'__APP_*_'=>__APP_*_,// 当前项目地址<br/>			'__ACTION_*_'=>__ACTION_*_,// 当前操作地址<br/>			'__SELF_*_'=>__SELF_*_,// 当前页面地址<br/>			'__URL_*_'=>__URL_*_,// 当前URL地址<br/>			'__TMPL_FILE_NAME_*_'=>__TMPL_FILE_NAME_*_,// 当前模板文件地址<br/>			'__MODULE_NAME_*_'=>MODULE_NAME,// 模块或叫做控制器<br/>			'__ACTION_NAME_*_'=>ACTION_NAME,// 操作或叫做方法<br/>			'__TEMPLATE_NAME_*_'=>TEMPLATE_NAME,// 当前主题名字<br/>			'__LANG_NAME_*_'=>LANG_NAME,  // 当前语言名字<br/>			'__THEME_*_'=>__THEME_*_,// 模板目录<br/>			'__FRAMEWORK__' =>__FRAMEWORK__,// 框架内部入口<br/>		);<br/>		$sContent=str_replace(array_keys($arrReplace),array_values($arrReplace),$sContent);<br/>		return $sContent;<br/>	}<br/><br/>但是，替换却带来了很大的不便，如果我们网站的内容中含有上面的关键字也会被替换，这样带来了很大的不便。<br/>一个很重要的功能就是在DYHB.BLOG_X-2.0.1中编辑主题文件的时候，关键字替换功能将会让模板中的关键字被替换成后台相关路径，让模板中的路径失效。所以，我们决定去掉这一功能，因为它就是一个哈P。[emot]grin[/emot]